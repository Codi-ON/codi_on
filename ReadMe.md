# Codion (ì½”ë””ì˜¨)

**Closet Ã— Weather Ã— AI**  
ë‚´ ì˜·ì¥ ê¸°ë°˜ìœ¼ë¡œ ì˜¤ëŠ˜ ë‚ ì”¨ì— ê°€ì¥ ì í•©í•œ ì˜·ì„ ì¶”ì²œí•´  
**ë¶ˆí•„ìš”í•œ êµ¬ë§¤ë¥¼ ì¤„ì´ëŠ”** ì½”ë”” ì¶”ì²œ ì„œë¹„ìŠ¤

---

## Overview
Codionì€ ì‚¬ìš©ìê°€ ë“±ë¡í•œ ì˜·ì¥ ë°ì´í„°(ì¹´í…Œê³ ë¦¬, ì†Œì¬, ì„¸íƒ/ë³´ê´€ ë“±)ì™€  
ì˜¤ëŠ˜/ì´ë²ˆ ì£¼ ê¸°ìƒ ì •ë³´ë¥¼ ê²°í•©í•´ **ê°€ì¥ í˜„ì‹¤ì ìœ¼ë¡œ ì…ì„ ìˆ˜ ìˆëŠ” ì„ íƒì§€**ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.

MVPëŠ” **Rule ê¸°ë°˜ ì¶”ì²œìœ¼ë¡œ ë¹ ë¥´ê²Œ ê²€ì¦**í•˜ê³ ,  
ì´í›„ **ML Inference API(Aì•ˆ)**ë¡œ í™•ì¥í•©ë‹ˆë‹¤.

---

## Key Value
- **ê¸°ì¡´ ì˜· í™œìš© ê·¹ëŒ€í™”**
- **êµ¬ë§¤ ì „ ì˜·ì¥ ìš°ì„  íƒìƒ‰**
- **ë‚ ì”¨ ê¸°ë°˜ í˜„ì‹¤ì  ì¶”ì²œ**
- **ML ì‹¤íŒ¨ ì‹œì—ë„ ì„œë¹„ìŠ¤ ìœ ì§€(Fallback)**

---

## PR rule
	â€¢	ë””í´íŠ¸ ë¸Œëœì¹˜: dev
	â€¢	ë³´í˜¸ ê·œì¹™:
	â€¢	main: ì§ì ‘ push ê¸ˆì§€ + PR í•„ìˆ˜ + ë¦¬ë·° 1ëª…
	â€¢	dev: PR í•„ìˆ˜ + ë¦¬ë·° 1ëª…(ê°€ë³ê²Œ)
---

## MVP Scope

### Included
- ClosetItem ë“±ë¡/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ
- Today Weather ì¡°íšŒ
- Today Recommend
    - Rule ê¸°ë°˜ 1ì°¨ ì¶”ì²œ
    - ML API(Aì•ˆ) 2ì°¨ í™•ì¥
- WearLog(ì¶”ì²œ/ì°©ìš© ê¸°ë¡)
- íšŒì›ê°€ì…/ë¡œê·¸ì¸(JWT)

### Excluded (ì´ë²ˆ ë²”ìœ„ ì•„ë‹˜)
- ì´ë¯¸ì§€ ìë™ ë¼ë²¨ë§ ê³ ë„í™”
- ê³ ê¸‰ ê°œì¸í™”(ì¥ê¸° í•™ìŠµ)
- ë³µì¡í•œ ì•Œë¦¼/ìº˜ë¦°ë” ì—°ë™

---

## Tech Stack

| Layer | Stack |
|------|------|
| Frontend | React |
| Backend | Java 17, Spring Boot 3.x, Spring Data JPA |
| DB | PostgreSQL|
| ML  | Python 3.11, Inference API |
| Infra | Docker, docker-compose |

---

## Architecture (MVP)

1. ì‚¬ìš©ìê°€ ì˜·ì„ **ClosetItem**ìœ¼ë¡œ ë“±ë¡
2. ë°±ì—”ë“œê°€ **Today Weather** ì¡°íšŒ
3. ì¶”ì²œ ìš”ì²­ ì‹œ
    - ML API ì •ìƒ â†’ **ML ê¸°ë°˜ ì¶”ì²œ**
    - ML API ì‹¤íŒ¨/ì§€ì—° â†’ **Rule ê¸°ë°˜ ì¶”ì²œ ìë™ fallback**
4. ê²°ê³¼ëŠ” **WearLog**ë¡œ ì €ì¥

---

## Repository Structure

```bash
project-root/
â”œâ”€â”€ frontend/                        # í”„ë¡ íŠ¸ 1ëª… ë‹´ë‹¹ ì˜ì—­
â”‚   â”œâ”€â”€ web/                         # React (ì›¹)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/              # ë¼ìš°íŠ¸ ë‹¨ìœ„ í™”ë©´
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Main/           # 1. ë©”ì¸ í™”ë©´
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Auth/           # 2. ë¡œê·¸ì¸/ì†Œì…œ ë¡œê·¸ì¸ í™”ë©´
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Closet/         # 3. ì˜· ë“±ë¡ + ë‚´ ì˜·ì¥
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Checklist/      # 4. ì˜¤ëŠ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì…ë ¥
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Preview/        # 5. ë‚ ì”¨ + ë‚´ ì˜·ì¥(6ê°œ ì¸ë„¤ì¼ + [ë”ë³´ê¸°])
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OutfitDetail/   # 6. ì˜· ìƒì„¸ í˜ì´ì§€
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Feedback/       # 7. ì˜¤ëŠ˜ ì½”ë”” í”¼ë“œë°±(ë³„ 5ê°œ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ History/        # 8. ì˜¤ëŠ˜ ì˜· ì¶”ì²œ ê²°ê³¼(íˆìŠ¤í† ë¦¬)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Dashboard/      # 9. ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ features/           # í™”ë©´ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¬¶ìŒ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ closet/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ checklist/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ preview/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ outfitDetail/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ feedback/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ history/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ components/         # ê³µìš© UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ cards/
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ api/                # axios/fetch í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ android/                    # í•„ìš” ì‹œ (ëª¨ë°”ì¼ ì•± í™•ì¥ìš©)
â”‚
â”œâ”€â”€ backend/                        # ë°±ì—”ë“œ 1ëª… ë‹´ë‹¹ (Java + Spring Boot + JPA + Security)
â”‚   â”œâ”€â”€ build.gradle                # ë˜ëŠ” pom.xml
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main/
â”‚       â”‚   â”œâ”€â”€ java/com/team/codion/
â”‚       â”‚   â”‚   â”œâ”€â”€ CodionApplication.java
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ config/         # ê³µí†µ ì„¤ì • (Swagger, CORS, Security ë“±)
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java      # ğŸ” Spring Security ì„¤ì •
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ OpenApiConfig.java       # Swagger / OpenAPI ì„¤ì •
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ WebConfig.java           # CORS ë“± (í•„ìš” ì‹œ)
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ security/       # ğŸ” ì‹œíë¦¬í‹°/ì†Œì…œ ë¡œê·¸ì¸ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ CustomOAuth2UserService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ OAuth2SuccessHandler.java      # (ì„ íƒ) ë¡œê·¸ì¸ ì„±ê³µ ì²˜ë¦¬
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ OAuth2FailureHandler.java      # (ì„ íƒ) ë¡œê·¸ì¸ ì‹¤íŒ¨ ì²˜ë¦¬
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ JwtTokenProvider.java          # (ì„ íƒ) JWT ì‚¬ìš© ì‹œ
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ common/         # ê³µí†µ ìœ í‹¸/ë² ì´ìŠ¤/ì—ëŸ¬
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ApiResponseDto.java       # ê³µí†µ ì‘ë‹µ í¬ë§·
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ entity/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BaseEntity.java           # createdAt, updatedAt ë“±
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ error/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ ErrorCode.java
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ GlobalExceptionHandler.java
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ api/            # ì»¨íŠ¸ë¡¤ëŸ¬ + DTO (ì™¸ë¶€ ë…¸ì¶œ ì „ìš©)
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ controller/
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainController.java       # ë©”ì¸/í™ˆ ìš”ì•½
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java       # ë¡œê·¸ì¸/í† í° ê´€ë ¨
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ClosetController.java     # ì˜· ë“±ë¡/ì˜·ì¥
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChecklistController.java  # ì˜¤ëŠ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PreviewController.java    # ë‚ ì”¨ + ì˜·ì¥ ì¸ë„¤ì¼ 6ê°œ
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OutfitController.java     # ìƒì„¸ ì½”ë””/ì˜¤ëŠ˜ ì¶”ì²œ ìƒì„±
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FeedbackController.java   # í”¼ë“œë°± ì €ì¥
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HistoryController.java    # ì˜¤ëŠ˜/ê³¼ê±° ì¶”ì²œ íˆìŠ¤í† ë¦¬
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DashboardController.java  # ëŒ€ì‹œë³´ë“œ í†µê³„
â”‚       â”‚   â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ dto/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ main/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ closet/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ checklist/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ preview/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ outfit/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ feedback/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ history/
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ dashboard/
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ domain/         # JPA ì—”í‹°í‹° (ORM í•µì‹¬)
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ user/
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserProfile.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ closet/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ClosetItem.java
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ outfit/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ Outfit.java              # ì¶”ì²œ ì½”ë”” ë‹¨ìœ„
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ WearLog.java             # ì‹¤ì œ ì°©ìš© ê¸°ë¡
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ Recommendation.java      # ì¶”ì²œ ê²°ê³¼ ì €ì¥(ìš”ì•½)
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ repository/     # Spring Data JPA ë¦¬í¬ì§€í† ë¦¬
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ user/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserRepository.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ closet/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ClosetItemRepository.java
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ outfit/
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ OutfitRepository.java
â”‚       â”‚   â”‚   â”‚       â”œâ”€â”€ WearLogRepository.java
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ RecommendationRepository.java
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ service/        # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ main/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MainService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AuthService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ closet/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ClosetService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ checklist/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ChecklistService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ preview/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PreviewService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ outfit/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OutfitService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ feedback/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FeedbackService.java
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ history/
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ HistoryService.java
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ dashboard/
â”‚       â”‚   â”‚   â”‚       â””â”€â”€ DashboardService.java
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â””â”€â”€ external/       # ê³µê³µë°ì´í„° / ì™¸ë¶€ ì„œë²„ í´ë¼ì´ì–¸íŠ¸
â”‚       â”‚   â”‚       â”œâ”€â”€ weather/
â”‚       â”‚   â”‚       â”‚   â”œâ”€â”€ KmaWeatherClient.java
â”‚       â”‚   â”‚       â”‚   â””â”€â”€ KmaWeatherResponseDto.java
â”‚       â”‚   â”‚       â””â”€â”€ air/
â”‚       â”‚   â”‚           â”œâ”€â”€ AirKoreaClient.java
â”‚       â”‚   â”‚           â””â”€â”€ AirKoreaResponseDto.java
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ resources/
â”‚       â”‚       â”œâ”€â”€ application.yml               # ê³µí†µ ì„¤ì • (DB, í¬íŠ¸, JPA, springdoc ë“±)
â”‚       â”‚       â”œâ”€â”€ application-oauth-example.yml # ğŸ” OAuth ì„¤ì • ì˜ˆì‹œ (ê¹ƒì— ì»¤ë°‹ O)
â”‚       â”‚       â”œâ”€â”€ application-local.yml         # ë¡œì»¬ìš© (ê¹ƒì— ì»¤ë°‹ X)
â”‚       â”‚       â”œâ”€â”€ application-oauth.yml         # ì‹¤ì œ í‚¤ (ê¹ƒì— ì»¤ë°‹ X)
â”‚       â”‚       â””â”€â”€ data.sql                      # ì„ íƒ: ì´ˆê¸° ë°ì´í„°
â”‚       â”‚
â”‚       â””â”€â”€ test/java/com/team/codion/
â”‚           â”œâ”€â”€ controller/
â”‚           â””â”€â”€ service/
â”‚
â”œâ”€â”€ ml/                             # AI 2ëª… ë‹´ë‹¹ ì˜ì—­
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ raw/
â”‚   â”‚   â””â”€â”€ processed/
â”‚   â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ architectures/
â”‚   â”‚   â””â”€â”€ inference.py
â”‚   â”œâ”€â”€ experiments/
â”‚   â”‚   â”œâ”€â”€ notebooks/
â”‚   â”‚   â”œâ”€â”€ baselines/
â”‚   â”‚   â””â”€â”€ logs/
â”‚   â”œâ”€â”€ pipeline/
â”‚   â”‚   â”œâ”€â”€ preprocess.py
â”‚   â”‚   â”œâ”€â”€ train.py
â”‚   â”‚   â”œâ”€â”€ evaluate.py
â”‚   â”‚   â””â”€â”€ export_model.py
â”‚   â”œâ”€â”€ configs/
â”‚   â””â”€â”€ artifacts/
â”‚       â”œâ”€â”€ model.pt
â”‚       â””â”€â”€ scaler.pkl
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ ERD.png
â”‚   â”œâ”€â”€ API_SPEC.md
â”‚   â”œâ”€â”€ MODEL_DESIGN.md
â”‚   â”œâ”€â”€ FEATURE_SPEC.md
â”‚   â”œâ”€â”€ SCREEN_FLOW.md
â”‚   â””â”€â”€ SECURITY_SPEC.md          # ì‹œíë¦¬í‹°/ì†Œì…œ ë¡œê·¸ì¸ íë¦„ ì •ë¦¬ìš©
â”‚
â”œâ”€â”€ infra/
â”‚   â”œâ”€â”€ docker-compose.yml        # DB, ë°±ì—”ë“œ, (í•„ìš” ì‹œ) ML ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ env.example               # DB/OAuth í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ
â”‚
â””â”€â”€ README.md