# =========================
# Profile (Docker/dev)
# =========================
spring.profiles.active=dev
server.port=8080

# =========================
# PostgreSQL DB (Docker: service name = db)
# =========================
spring.datasource.url=jdbc:postgresql://db:5432/codion
spring.datasource.username=codion
spring.datasource.password=1234
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false

# init (dev ??)
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true

# =========================
# OpenWeather
# =========================
weather.api.url=https://api.openweathermap.org/data/2.5/forecast
weather.api.key=${OPENWEATHER_API_KEY:}

# =========================
# Default Location
# =========================
codi.default-location.region=Seoul
codi.default-location.lat=37.5665
codi.default-location.lon=126.9780

# =========================
# AI (FastAPI) - Docker: service name = ai
# =========================
ai.base-url=http://ai:8000
ai.connect-timeout-ms=2000
ai.read-timeout-ms=7000
ai.blend-ratio-path=/recommend/blend-ratio
ai.material-ratio-path=/recommend/material_ratio

# =========================
# Logging (dev only)
# =========================
logging.level.com.team.backend.service.ai.dto=DEBUG
logging.level.com.team.backend.config.HttpClientConfig=DEBUG
logging.level.com.team.backend.service.recommendation=DEBUG
logging.level.org.springframework.security=DEBUG